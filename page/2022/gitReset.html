<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <link rel="stylesheet" type="text/css" href="../../css/base.css"></link>
        <meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
        <title>记一次Git乌龙事件——修改线上bug步骤 - LogerLink .NET Blog</title>
        <meta name="keywords" content="git,reset,线上修复bug步骤,开发规范"/>
        <meta name="description" content="记一次Git乌龙事件——修改线上bug步骤，git撤销提交代码，git开发规范">
        <link href='../../css/family.css' rel='stylesheet' type='text/css' />
        <script src="../../js/base.js" type="module"></script>
    </head>
    <body>
        <div class="container">
            <div class="col-left">
                <div class="wave"></div>
                <div class="category">
                </div>
            </div>
            <div class="col-right">
                <article>
                    <header>
                        <h1 class="title">
                            记一次Git乌龙事件——修改线上bug的步骤
                        </h1>
                        <div class="dateTime">
                            2022-11-29
                        </div>
                    </header>
                    <hr/>
                    <div class="content">
<div class='typora-export os-windows' >
<div id='write'  class=''><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span class="btn-toggle">&gt;</span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n2"><a class="md-toc-inner" href="#说明">说明</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n6"><a class="md-toc-inner" href="#场景重现">场景重现</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n11"><a class="md-toc-inner" href="#撤销还原提交">撤销还原提交</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n12"><a class="md-toc-inner" href="#当前分支情况">当前分支情况</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n13"><a class="md-toc-inner" href="#master源分支">master源分支</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n15"><a class="md-toc-inner" href="#hot-fixdevelop分支">hot-fix、develop分支</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n18"><a class="md-toc-inner" href="#首先撤销hot-fix-a-bug">首先撤销hot-fix-a-bug</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n24"><a class="md-toc-inner" href="#撤销develop的相关提交">撤销develop的相关提交</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n30"><a class="md-toc-inner" href="#撤销还原结果">撤销还原结果</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n33"><a class="md-toc-inner" href="#如何处理">如何处理</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n36"><a class="md-toc-inner" href="#合并hot-fix-a-bug分支的修改">合并hot-fix-a-bug分支的修改</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n46"><a class="md-toc-inner" href="#总结线上出现bug的处理流程">总结线上出现bug的处理流程</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n47"><a class="md-toc-inner" href="#有权限的">有权限的</a></span><span role="listitem" class="md-toc-item md-toc-h6" data-ref="n65"><a class="md-toc-inner" href="#没有权限的">没有权限的</a></span></p></div><h4 id='说明'><span>说明</span></h4><p><span>一天，组长提了一个bug，让我先停下其他事情，优先处理这个bug，并特意说明在hotfix-xx分支（master切出来）上修改。三下五除二，咣咣一顿操作，成功解决。提PR合并到develop的时候，遇到冲突，我便取消了本次合并。接着在本地hotfix-xx分支通过</span><code>git pull</code><span>将develop分支代码拉取下来，解决冲突，再重新提合并。接着心满意足的报告组长让他评审，不过一会儿就收到自动通知，已经合并到develop。自己先点点，过会再让测试同学进行测试，结果不到五分钟便出现了以下对话：</span></p><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125111338816.png" referrerpolicy="no-referrer" alt="image-20221125111338816"></p><p><span>整个人都慌起来了，虽然组长提供了解决方案，但是我也没用过这个啊。尝试了一番没结果，最后我直接从master重新切一个hotfix-yy分支，然后将修改后的代码一点一点复制到yy分支上，最后重新提合并，由组长那边解决冲突。所幸修改的地方不多，不然就很麻烦了，那像这种场景应该怎么处理会更好呢？能否&quot;挽回局面&quot;让我们再试一下吧。</span></p><h4 id='场景重现'><span>场景重现</span></h4><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125160255790.png" referrerpolicy="no-referrer" alt="image-20221125160255790"></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="txt"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="txt"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51875px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">master:</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">添加a、b</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">master切换创建develop:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">添加c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">fix:a、b</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">master切换创建hot-fix-a-bug:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">fix:a bug</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">合并develop分支</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hot-fix-a-bug切换至develop:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">合并hot-fix-a-bug分支</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125171213521.png" referrerpolicy="no-referrer" alt="image-20221125171213521"></p><p><span>这样问题就来了，由于是线上bug，我们</span><strong><span>只需要处理该bug并将hot-fix-a-bug合并到master进行发布就行</span></strong><span>，结果一通操作下来，hot-fix分支包括了develop修改的内容，我们并不希望将develop的修改一同发布（可能会出问题、功能未测试、未验收等），但是我们又不得不将hot-fix分支先合并到develop分支发布测试版进行测试。</span></p><h4 id='撤销还原提交'><span>撤销还原提交</span></h4><h5 id='当前分支情况'><span>当前分支情况</span></h5><h6 id='master源分支'><span>master源分支</span></h6><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125171733445.png" referrerpolicy="no-referrer" alt="image-20221125171733445"></p><h6 id='hot-fixdevelop分支'><span>hot-fix、develop分支</span></h6><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125171851494.png" referrerpolicy="no-referrer" alt="image-20221125171851494"></p><p><span>我们按照组长说的看看能不能通过撤销把代码还原吧。</span></p><h5 id='首先撤销hot-fix-a-bug'><span>首先撤销hot-fix-a-bug</span></h5><p><span>查看提交日志，通过</span><code>git reset --hard id</code><span>撤销到某一次提交，此处我们需要撤销到 </span><strong><span>fix:a bug</span></strong><span> 的提交</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="shell"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51875px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 切换hot-fix-a-bug</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> checkout hot-fix-a-bug</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 查看commit提交记录</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> log <span class="cm-attribute">--pretty</span><span class="cm-operator">=</span>oneline</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 撤销到某一次提交</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> reset <span class="cm-attribute">--hard</span> 8f5f4fa0a3f501df49e54aaa557c1d2c97cdb3c8</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> log <span class="cm-attribute">--pretty</span><span class="cm-operator">=</span>oneline</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125172115145.png" referrerpolicy="no-referrer" alt="image-20221125172115145"></p><p><span>此时hot-fix-a-bug分支将变成未合并develop的时候：</span></p><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125172400319.png" referrerpolicy="no-referrer" alt="image-20221125172400319"></p><h5 id='撤销develop的相关提交'><span>撤销develop的相关提交</span></h5><p><span>查看提交日志，通过</span><code>git reset --hard id</code><span>撤销到某一次提交，此处我们需要撤销到 </span><strong><span>fix:a、b</span></strong><span> 的提交</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="shell"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51875px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 切换develop</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> checkout develop</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 查看develop分支的相关提交</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> log <span class="cm-attribute">--pretty</span><span class="cm-operator">=</span>oneline</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 撤销develop分支的提交至某一次提交记录</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> reset <span class="cm-attribute">--hard</span> 8df41a9c35c3b49a4d456f0d92472786137718a8</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> log <span class="cm-attribute">--pretty</span><span class="cm-operator">=</span>oneline</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125173104116.png" referrerpolicy="no-referrer" alt="image-20221125173104116"></p><p><span>此时develop分支将变成未合并hot-fix-a-bug的时候：</span></p><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125173335576.png" referrerpolicy="no-referrer" alt="image-20221125173335576"></p><h5 id='撤销还原结果'><span>撤销还原结果</span></h5><p><span>我们再看分支图，此时hot-fix-a-bug分支和develop分支已经没有关联，已经还原成功</span></p><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125174014138.png" referrerpolicy="no-referrer" alt="image-20221125174014138"></p><h4 id='如何处理'><span>如何处理</span></h4><p><span>现在代码已经还原，那么此时我们应该怎样处理呢？我们的目的就两个：</span><strong><span>发布测试版进行测试、发布正式版解决bug</span></strong></p><p><span>若您没有develop的push权限，那么你需要从develop切一条分支dev-new-a，将hot-fix-a-bug合并至分支dev-new-a，并将分支dev-new-a提PR合并到develop，等待组长评审即可，如果有权限则直接将hot-fix-a-bug合并至分支develop，并将develop推送即可</span></p><h5 id='合并hot-fix-a-bug分支的修改'><span>合并hot-fix-a-bug分支的修改</span></h5><p><span>合并hot-fix-a-bug分支至分支dev-new-a，并解决冲突</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="shell"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51875px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 切换develop分支</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> checkout develop</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 获取线上develop，保证本地develop的分支为最新版本（此处为本地演示，忽略）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> pull origin develop</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 创建并切换dev-new-a分支</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> checkout <span class="cm-attribute">-b</span> dev-new-a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 在本地合并hot-fix-a-bug分支至dev-new-a分支</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> merge hot-fix-a-bug</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#手动解决冲突，无冲突则忽略</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 207px;"></div></div></div></pre><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125181805107.png" referrerpolicy="no-referrer" alt="image-20221125181805107"></p><p><span>提交dev-new-a，此时就可以将本地的dev-new-a推送至仓库，提PR合并</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="shell"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51875px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> status</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> add .</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> commit <span class="cm-attribute">-m</span> <span class="cm-string">'fix:合并fix-a'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 推送至远程仓库（此处为本地演示，忽略）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> push origin dev-new-a</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125181907980.png" referrerpolicy="no-referrer" alt="image-20221125181907980"></p><p><span>此时我们再看git的分支图</span></p><p><img src="https://gcore.jsdelivr.net/gh/logerlink/blogImg/typora-img/image-20221125182123285.png" referrerpolicy="no-referrer" alt="image-20221125182123285"></p><p><span>两条路线：master-&gt;develop、master-&gt;hot-fix-a-bug-&gt;dev-new-a</span></p><h5 id='总结线上出现bug的处理流程'><span>总结线上出现bug的处理流程</span></h5><h6 id='有权限的'><span>有权限的</span></h6><ol start='' ><li><span>出现bug</span></li><li><span>从master（正式环境）分支创建并切换到hotfix-xxx-bug分支</span></li><li><span>在hotfix-xxx-bug分支处理bug</span></li><li><strong><span>切换develop（测试环境）分支，合并hotfix-xxx-bug分支修改的内容</span></strong><span>，并解决冲突</span></li><li><span>提交推送develop分支，并发布测试环境，进行测试</span></li><li><span>若测试有bug，则执行3、4、5步骤</span></li><li><span>测试完成后，切换master分支，合并hotfix-xxx-bug分支修改的内容，并解决冲突</span></li><li><span>提交推送master分支、并发布</span></li></ol><h6 id='没有权限的'><span>没有权限的</span></h6><ol start='' ><li><span>出现bug</span></li><li><span>管理员在远程仓库从master（正式环境）分支创建hotfix-xxx-bug分支</span></li><li><span>拉取hotfix-xxx-bug分支到本地</span></li><li><span>在hotfix-xxx-bug分支处理bug</span></li><li><span>在本地develop分支创建并</span><strong><span>切换dev-fix-xxx分支</span></strong></li><li><strong><span>合并hotfix-xxx-bug分支</span></strong><span>，并解决冲突</span></li><li><span>提交推送dev-fix-xxx分支，提交PR到develop，等待评审合并</span></li><li><span>管理员合并dev-fix-xxx分支到develop，并发布测试环境，进行测试</span></li><li><span>若测试有bug，则切换到hotfix-xxx-bug分支处理，再执行6、7、8步骤</span></li><li><span>测试完成后提交推送hotfix-xxx-bug分支，提交PR到master，等待评审合并</span></li><li><span>管理员合并hotfix-xxx-bug分支到master，并解决冲突、发布</span></li></ol></div></div>


</div>
</div>
</article>
</div>
<div class="btn-toTop"></div>
</div>
</body>
</html>